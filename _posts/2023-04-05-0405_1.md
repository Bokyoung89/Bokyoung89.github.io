---
published: true
title: "[그리디] 프로그래머스 - 기지국 설치"
categories: 
- 코딩테스트
tag:
- Java
---
### 문제 설명

**N개의 아파트가 일렬**로 쭉 늘어서 있습니다. 이 중에서 일부 아파트 옥상에는 4g 기지국이 설치되어 있습니다. 기술이 발전해 5g 수요가 높아져 4g 기지국을 5g 기지국으로 바꾸려 합니다. 그런데 **5g 기지국은 4g 기지국보다 전달 범위가 좁아**, 4g 기지국을 5g 기지국으로 바꾸면 어떤 아파트에는 전파가 도달하지 않습니다.

예를 들어 11개의 아파트는 쭉 늘어서 있고, [4, 11] 번째 아파트 옥상에는 4g 기지국이 설치되어 있습니다. 만약 이 4g 기지국인 전파 도달 거리가 1인 5g 기지국으로 바뀔 경우 모든 아파트에 전파를 전달할 수 없습니다. (전파의 도달 거리가 W일땐, 기지국이 설치된 아파트를 기준으로 전파를 양쪽으로 W만큼 전달할 수 있습니다.)

- 초기에 1,2,6,7,8,9번째 아파트에는 전파가 전달되지 않습니다.
- 1,7,9번째 아파트 옥상에 기지국을 설치할 경우,. 모든 아파트에 전파를 전달할 수 있습니다.
- 3개의 아파트보다 더 많은 아파트 옥상에 기지국을 설치할 경우에도 모든 아파트에 전파를 전달할 수 있습니다.

이때, 우리는 기지국을 최소로 설치하면서 모든 아파트에 전파를 전달하려고 합니다. 위의 예시에선 최소 3개의 아파트 옥상에 기지국을 설치해야 모든 아파트에 전파를 전달할 수 있습니다.

아파트의 개수 N, 현재 기지국이 설치된 아파트의 번호가 담긴 1차원 배열 stations, 전파의 도달 거리 W가 매개변수로 주어질 때, 모든 아파트에 전파를 전달하기 위해 증설해야 할 기지국 개수의 최솟값을 리턴하는 solution 함수를 완성해주세요.

### 제한 사항

- N : 200,000,000 이하의 자연수
- stations의 크기 : 10,000 이하의 자연수
- station은 오름차순으로 정렬되어 있고, 배열에 담긴 수는 N보다 같거나 작은 자연수입니다.
- W : 10,000 이하의 자연수

### 입출력 예

| N | stations | W | answer |
| --- | --- | --- | --- |
| 11 | [4, 11] | 1 | 3 |
| 16 | [9] | 2 | 3 |

---

### 해결 방법

1. 각각의 아파트를 돌며 전파가 전달되는지 확인한다.
2. 전파가 전달되지 않는 아파트를 기준으로 기지국을 설치한다.
3. 최소한의 기지국 개수를 구하여 반환한다.

### 구현 방법

1. 모든 아파트의 동 크기만큼 1부터 N까지 돌면서, 전파가 전달되는지를 확인한다.
2. 이미 기지국이 설치된 위치부터 현재 아파트까지의 거리를 비교한다. (해당 기지국의 위치에서 -w 하여 현재 위치가 전파 범위에 포함되는지를 확인)
3. 전파 범위 안에 있으면, 기지국의 전파범위 밖으로 이동하여 다음 기지국을 확인하고
4. 전파 범위 안에 없으면, 현재 위치에서 전파 도달 거리를 합쳐 2*w+1 만큼 이동하고, 기지국 개수를 1 증가시킨다.
5. 2~4 과정을 반복한다.

### 구현 코드

```java
class Solution {
public int solution(int n, int[] stations, int w) {
int answer = 0; //새로 설치할 기지국 갯수
int currentPosi = 1; //현재 위치
int index = 0; //기지국 위치 초기화

    // 모든 아파트 전파 체크
    while(currentPosi <= n){
        // 전파 범위 안에 있는 경우
        if(index < stations.length && currentPosi >= stations[index] - w){
            currentPosi = stations[index] + w + 1;
            index++;
        // 전파 범위 안에 없는 경우(기지국 설치)        
        }else{
            currentPosi += w*2 + 1;
            answer++;
        }
    }

    return answer;
    }
}
```

### 시간 복잡도 및 그리디
* 2~4 단계를 반복하며 각 단계마다 모든 아파트를 돌기 때문에 O(N^2)의 시간 복잡도가 소요된다.
* 위 문제는 Greedy 알고리즘을 이용하여 해결할 수 있다. 현재 위치에서 가장 가까운 기지국이 전파 도달 범위 안에 있는지 확인하고, 그렇지 않다면 새로운 기지국을 설치하면 된다.
* 초기에 `currentPosi`를 1로 설정해 모든 아파트에 대해 반복하면서 현재 위치가 기지국의 영향을 받는 범위 내에 있는지 확인한다. 만약 영향을 받는 범위 내에 있으면 해당 기지국을 제외하고 다음 기지국으로 이동한다. 영향을 받는 범위 내에 없으면 현재 위치에서 전파를 전달할 수 있는 범위를 합쳐 2*w+1 만큼 이동하고, 기지국을 설치해야 하므로 증설해야 할 기지국 개수를 1 증가시킨다. 이렇게 하면 최소 증설해야 할 기지국 개수를 구할 수 있다.


### TIP. 효율성 높이기

1. Loop 개선
2. 적절한 데이터 구조 사용
3. 불필요한 오브젝트 제거