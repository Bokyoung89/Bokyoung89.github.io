---
published: false
title: "[TIL] 기술 인터뷰 Q&A 11일차"
categories: 
- Interview
tag:
- DBMS
- 

toc: true
toc_label: "목록"
toc_icon: "bars"
toc_sticky: true

---
> 👩🏻‍💻 기술면접을 대비하여 학습한 내용을 TIL로 기록한다.

## 기술 예상 질문
### 1. CORS(Cross Origin Resource Sharing)에 대해 설명해주세요.
* CORS는 SOP(Same-orign)의 반대 개념으로 서로 다른 출처 간에 리소스 공유를 허용하도록 브라우저에 알려주는 매커니즘입니다.
* 사이트 간 요청 위조를 방지하고자 브라우저는 기본적으로 SOP를 구현합니다. 하지만 클라이언트에서 API를 호출하는 방식이 당연해지면서 이를 합법적으로 허용해줄 필요가 생겼고 합의된 출처들 간에 어떤 기준을 충족시키면 리소스 공유가 되도록 만들어졌습니다.
* 이 기준은 요청을 받는 백엔드쪽에서 미리 명시해두면 됩니다. Access-Control-Allow-Origin 헤더에 요청을 수락할 출처를 명시적으로 지정하면 출처가 다르더라도 리소스 요청을 허용하게 됩니다. 그 외에 프록시 서버를 사용해 웹 애플리케이션에서 리소스로의 요청을 전달하는 방법도 있습니다.

**꼬리질문 : CORS의 동작 방식에 대해 설명해주세요.**
* 우선 브라우저는 header에 현재 origin의 정보인 도메인, 포트, 프로토콜을 추가해 서버에 요청을 보냅니다. 요청을 받은 서버는 답장 헤더에 지정된 Access-Control-Allow-Origin 정보를 실어 보냅니다. origin에서 보낸 출처값이 서버의 답장 헤더에 담긴 Access-Control-Allow-Origin에 있으면 안전한 요청으로 간주하고 응답을 받아오게 됩니다.
* CORS에서 보내는 요청은 두 종류 simple request와 preflighted로 나뉘는데, simple request는 GET, POST 등 일정 조건의 요청들에 사용하고, PUT, DELETE 등 검증이 필요한 요청들은 Prefrigt 요청을 보내어 요청이 안전한 지 먼저 확인한 후 본 요청을 보냅니다.

**꼬리질문 : SOP란 무엇인가요?**
* Same Origin Policy 동일 출처 정책으로 웹 애플리케이션에서 동일한 출처(origin)에서만 리소스를 공유하고 요청할 수 있는 보안 메커니즘입니다. origin은 프로토콜, 도메인, 포트를 포함하고 모두 클라이언트에서 요청하는 서버와 일치해야 리소스 응답이 이루어집니다.

---

### 2. 인덱스를 많이 걸면 왜 성능이 저하되나요?
* CREATE, DELETE, UPDATE가 빈번한 속성에 인덱스를 걸게 되면 인덱스의 크기가 비대해져서 성능이 오히려 저하되는 역효과가 발생할 수 있습니다. 그러한 이유 중 하나는 DELETE와 UPDATE 연산 때문입니다. 
* UPDATE와 DELETE는 기존의 인덱스를 삭제하지 않고 '사용하지 않음' 처리를 합니다. 만약 어떤 테이블에 UPDATE와 DELETE가 빈번하게 발생된다면 실제 데이터는 10만건이지만 인덱스는 훨씬 많이 존재하게 되어, SQL문 처리 시 비대해진 인덱스에 의해 오히려 성능이 떨어지게 될 것입니다.

---

### 3. 낙관적 락, 비관적 락, REDIS 분산 락을 설명해주세요.
* 낙관적 락은 데이터를 업데이트할 때 중돌이 발생할 가능성을 낮게 보고, 업데이트를 시도한 후 충돌이 발생하면 이를 해결하는 방식입니다.
* 비관적 락은 데이터를 업데이트할 때 충돌이 일어날 것으로 예상하고, 업데이트하기 전에 해당 데이터를 잠그는 방식입니다.
* REDIS 분산 락은 REDIS를 사용하여 분산 환경에서 락을 관리하는 방식입니다. 동시성 제어나 작업의 순서를 보장해야할 때 사용합니다.

---
 
### 4. 영속성 컨텍스트에 대해 간단히 설명해주세요.
* 영속성 컨텍스트란 엔티티를 영구 저장하는 환경이라는 의미로 애플리케이션과 DB 사이에 존재하여 객체를 보관하는 가상의 데이터베이스 역할을 합니다. EntityManager에 엔티티를 저장하거나 조회하면 EntityManager는 영속성 컨텍스트에 데이터를 보관하고 관리합니다.

**꼬리질문 : 영속성 컨텍스트를 사용하는 이유는 무엇인가요?**
* 영속성 컨텍스트를 사용할 때 이점 때문입니다. 일단 영속성 컨텍스트 내부에 1차 캐시라는 공간이 있어 데이터가 있다면 굳이 DB를 조회하지 않고도 데이터를 빠르게 얻을 수 있습니다. 
* 삽입, 조회를 할 때 1차 캐시를 사용하기 때문에 하나의 트랜잭션 안에서 데이터 동일성이 보장됩니다. 
* 엔티티들을 1차 캐시에 저장할 때 쓰기 지연 SQL에 SQL문도 함께 저장합니다. 트랜잭션이 커밋될 때 한꺼번에 DB에 UPDATE되므로 I/O 횟수를 줄이는 장점도 있습니다.

**꼬리질문 : JPA를 사용할 때 영속성 컨텍스트를 사용하였나요?**
* spring data jpa를 사용하여 @Transactional 어노테이션 추가해 사용하였습니다. 
* 사용할 당시엔 영속성 컨텍스트가 있다는 것만 알았는데, 데이터를 업데이트할 때 따로 update쿼리를 작성하지 않았는데 자동으로 update문이 만들어지게 되는 원리가 궁금해져서 영속성 컨텍스트에 대해 공부해보게 되었습니다.

---

### 5. 웹서버와 웹어플리케이션의 차이를 설명해주세요.
* 웹 서버와 애플리케이션 서버는 인터넷 상에서 데이터와 서비스를 교환할 수 있는 기술입니다. 
웹 서버는 이미지, 파일, 텍스트와 같은 정적 데이터를 제공하는 소프트웨어이고 웹어플리케이션은 동적인 컨텐츠 생성을 위해 서버 사이드 프로그래밍 언어를 사용하여 데이터베이스와 상호작용하고, 사용자 요청에 따라 동적으로 컨텐츠를 생성하여 제공합니다.

---

### 6.Docker의 image와 container의 차이를 설명해주세요.
* Docker image는 컨테이너 실행에 필요한 모든 정적인 파일을 포함하는 템플릿입니다. Container는 Docker 이미지를 실행하여 생성된 가상 환경입니다.

**꼬리질문 : Docker를 왜 사용해야 할까?**
* 똑같은 일을 하는 2대의 서버가 있는데, a서버는 1년 전에 구성했고 b는 이제 막 구성했다면 운영체제, 패키징 까지 모두 같을 순 없습니다. 같은 서버임에도 a는 되고 b는 안되는 경우가 발생할 수 있습니다. 
* Docker는 서버마다 동일한 환경을 구성해주기 때문에 이런 문제를 방지할 수 있습니다. 또한 동일한 환경을 구성하므로 오토 스케일링을 하기에도 유리합니다.

---

### 7. Docker의 특징에 대해서 말씀해주세요.
* Docker는 컨테이너 기반의 가상화 도구입니다. 애플리케이션을 컨테이너라는 단위로 격리하여 실행하고 배포하는 기술입니다. 컨테이너 개념에서 물건을 손쉽게 운송해주는 것처럼 어플리케이션 환경에 구애 받지 않고 손쉽게 배포 관리를 할 수 있게 한다. 이를 통해 개발, 테스트, 배포 등의 프로세스를 단순화하고, 확장성과 이식성을 향상시킵니다.

---

### 8. 이진탐색 알고리즘이란?
* 배열이 정렬되어 있을 때, 특정 값을 찾는 데 사용하는 알고리즘입니다. 중간값과 대상 값을 비교하여 반씩 줄여가며 탐색하는 방법입니다. 시간복잡도는O(log n)입니다. 중간값이 찾고자 하는 값과 같다면 해당 값의 인덱스를 반환합니다.


_항해 개발자 취업 리부트 코스를 수강하고 작성한 콘텐츠 입니다._